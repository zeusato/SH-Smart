<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C√†i ƒë·∫∑t & Add-ons</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Load Tesseract from local node_modules for browser compatibility in Electron -->
    <script src="../../node_modules/tesseract.js/dist/tesseract.min.js"></script>
</head>

<body>
    <div id="sidebar">
        <div class="sidebar-header">MENU</div>
        <div class="nav-item active" data-tab="general">Chung (General)</div>
        <div class="nav-item" data-tab="otp">Qu·∫£n l√Ω OTP</div>
        <div class="nav-item" data-tab="about">Th√¥ng tin</div>
    </div>

    <div id="content">
        <!-- Content injected by JS -->
        <div id="tab-general" class="tab-content">
            <h2>Qu·∫£n l√Ω Add-on & T√πy ch·ªânh</h2>

            <div class="settings-group">
                <h3>C·∫•u h√¨nh chung</h3>
                <label class="setting-item">
                    <input type="checkbox" id="chk-always-top"> Ghim c·ª≠a s·ªï l√™n tr√™n c√πng (Always on Top)
                </label>
                <label class="setting-item">
                    <input type="checkbox" id="chk-tray"> Thu nh·ªè xu·ªëng System Tray khi ƒë√≥ng
                </label>
                <div class="setting-item">
                    <label>M·ª©c Zoom m·∫∑c ƒë·ªãnh: <span id="summ-zoom">100%</span></label>
                    <input type="range" id="rng-zoom" min="80" max="150" step="5" value="100" style="width: 200px;">
                </div>
            </div>

            <div class="settings-group" style="margin-top: 20px; border-top: 1px solid #444; padding-top: 10px;">
                <h3>D·ªØ li·ªáu & Cache</h3>
                <p style="color: #aaa; font-size: 13px;">G·∫∑p l·ªói hi·ªÉn th·ªã? H√£y th·ª≠ x√≥a cache.</p>
                <button class="btn btn-danger" id="btn-clear-cache" style="background: #d9534f;">X√≥a Cache & T·∫£i
                    l·∫°i</button>
            </div>

            <!-- <button class="btn" id="btn-save-general">L∆∞u C√†i ƒê·∫∑t</button> -->
            <!-- Auto-save preferred for toggles, likely no need for manual save button if we bind change events -->
        </div>

        <div id="tab-otp" class="tab-content" style="display: none;">
            <h2>
                Danh s√°ch th·∫ª OTP
                <button class="btn" id="btn-add-otp">+ Th√™m m·ªõi</button>
            </h2>
            <div id="otp-list-container" style="display: flex;">
                <div id="otp-cards-list" style="width: 30%; padding-right: 10px; border-right: 1px solid #333;">
                    <!-- List of OTP cards -->
                    <div class="card-item">ƒêang t·∫£i...</div>
                </div>
                <div id="otp-detail-view" style="width: 70%; padding-left: 10px;">
                    <div id="otp-placeholder" style="color: #666; text-align: center; margin-top: 50px;">
                        Ch·ªçn m·ªôt th·∫ª ƒë·ªÉ xem ho·∫∑c th√™m m·ªõi
                    </div>

                    <!-- Add New Form -->
                    <div id="otp-add-form" style="display: none; position: relative;">
                        <button id="btn-delete-otp"
                            style="position: absolute; right: 0; top: -5px; background: transparent; border: none; font-size: 20px; cursor: pointer; color: #d9534f; display: none;"
                            title="X√≥a th·∫ª n√†y">üóëÔ∏è</button>
                        <h3>Th√™m th·∫ª OTP m·ªõi</h3>
                        <div class="form-group">
                            <label>T√™n Kh√°ch H√†ng / G·ª£i nh·ªõ</label>
                            <input type="text" id="otp-name" placeholder="V√≠ d·ª•: Nguy·ªÖn VƒÉn A">
                        </div>
                        <div class="form-group">
                            <label>M·∫≠t kh·∫©u b·∫£o v·ªá</label>
                            <input type="password" id="otp-password" placeholder="Nh·∫≠p ƒë·ªÉ kh√≥a th·∫ª n√†y">
                        </div>
                        <div class="form-group">
                            <label>·∫¢nh th·∫ª Matrix (Ch·ª•p r√µ n√©t)</label>
                            <input type="file" id="otp-file" accept="image/*">
                        </div>
                        <div id="ocr-status" style="margin: 10px 0; font-size: 12px; color: #aaa;"></div>
                        <div id="otp-preview-area" style="display:none">
                            <h4>K·∫øt qu·∫£ nh·∫≠n di·ªán:</h4>
                            <div id="otp-grid-preview"></div>
                        </div>
                        <div style="margin-top: 15px;">
                            <button class="btn" id="btn-save-otp" disabled>L∆∞u Th·∫ª</button>
                            <button class="btn" style="background: #444;" onclick="cancelAddOtp()">H·ªßy</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="tab-about" class="tab-content" style="display: none;">
            <h2>Th√¥ng tin ·ª©ng d·ª•ng</h2>
            <div class="about-info">
                <p><strong>Phi√™n b·∫£n:</strong> <span id="app-version">1.0.3</span></p>
                <p><strong>Ng√†y ph√°t h√†nh:</strong> 19/01/2026</p>
                <p><strong>T√°c gi·∫£:</strong> Nguy·ªÖn M·∫°nh Quy·∫øt (PTSP)</p>
                <div class="disclaimer">
                    <strong>L∆∞u √Ω:</strong> ·ª®ng d·ª•ng t·∫°o ra ƒë·ªÉ s·ª≠ d·ª•ng cho m·ª•c ƒë√≠ch c√° nh√¢n kh√¥ng ƒë·∫°i di·ªán hay thay th·∫ø
                    cho b·∫•t c·ª© k√™nh giao d·ªãch ch√≠nh th·ªëng n√†o c·ªßa SHS. T√°c gi·∫£ tuy√™n b·ªë mi·ªÖn tr·ª´ m·ªçi tr√°ch nhi·ªám.
                </div>
            </div>
        </div>
    </div>

    <!-- Password Modal -->
    <div id="password-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3>Nh·∫≠p m·∫≠t kh·∫©u th·∫ª</h3>
            <div class="form-group">
                <input type="password" id="modal-password-input" placeholder="M·∫≠t kh·∫©u b·∫£o v·ªá...">
            </div>
            <div style="display: flex; justify-content: flex-end; gap: 10px;">
                <button class="btn" style="background: #555;" id="btn-modal-cancel">H·ªßy</button>
                <button class="btn" id="btn-modal-confirm">M·ªü kh√≥a</button>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>

</html>